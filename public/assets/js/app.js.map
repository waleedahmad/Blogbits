{"version":3,"sources":["app.js"],"names":["Config","url","document","location","toString","match","$","split","tab","on","e","window","hash","target","value","trim","val","parseInt","_this","timepicker","i","keypress","preventDefault","type","attr","start_target","end_target","start","getSchedulerStartTime","end","getSchedulerEndTime","ajax","data","_token","token","success","res","toastr","error","info","initHashNavigate","initSchedulerTimings","initFbAlbumSync","initPostBackup","Posts","$grid","jscroll","debug","autoTrigger","nextSelector","contentSelector","callback","remove","unwrap","initPostTags","initPost","tagsinput","allowDuplicates","trimValue","off","event","tags","join","post_id","updatePostTags","context","deletePost","createPost","createPostBatch","unbind","removePostBatchFromDOM","batch_limit","slideUp","post_now","parents","flash_message","initInfiniteScroll","ContentSync","uri","name","setTimeout","reload","service","server_name","ask","confirm","fadeOut","requestSync","initDeleteSync","options"],"mappings":"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","file":"app.js","sourcesContent":["class Config{\n\n    initHashNavigate(){\n        var url = document.location.toString();\n        if (url.match('#')) {\n            $('.nav-tabs a[href=\"#' + url.split('#')[1] + '\"]').tab('show');\n        }\n\n        $('.nav-tabs a').on('shown.bs.tab', function (e) {\n            window.location.hash = e.target.hash;\n        });\n    }\n\n    /**\n     * Get scheduler start time\n     * @returns {*}\n     */\n    getSchedulerStartTime(target){\n        var value = $.trim($(target).val());\n        return (value) ? parseInt(value.match(/\\d+/)[0]) : 0;\n    }\n\n    /**\n     * Get scheduler end time\n     * @returns {*}\n     */\n    getSchedulerEndTime(target){\n        var value = $.trim($(target).val());\n        return (value) ? parseInt(value.match(/\\d+/)[0]) : 0;\n    }\n\n    /**\n     * Init scheduler timing settings\n     * @param _this\n     */\n    initSchedulerTimings(_this){\n        $('#scheduler_start_time, #scheduler_end_time, #social_scheduler_start_time, #social_scheduler_end_time').timepicker({\n            'timeFormat': 'H:i',\n            'step': function(i) {\n                return 60;\n            }\n        }).keypress(function(e){\n            e.preventDefault();\n        });\n\n        // update scheduler timings\n        $(\"#up-sch-timings, #up-sch-timings-social\").on('click', function(e){\n            e.preventDefault();\n\n            var type = $(this).attr('data-type');\n\n            var start_target;\n            var end_target;\n\n            if(type === 'blog'){\n                start_target = '#scheduler_start_time';\n                end_target = '#scheduler_end_time'\n            }else if(type === 'social'){\n                start_target = '#social_scheduler_start_time';\n                end_target = '#social_scheduler_end_time'\n            }\n\n            var start = _this.getSchedulerStartTime(start_target),\n                end = _this.getSchedulerEndTime(end_target);\n\n            $.ajax({\n                type : 'POST',\n                url : '/config/scheduler/timings',\n                data : {\n                    _token : _this.token,\n                    start : start,\n                    end : end,\n                    type : type\n                },\n                success : function(res){\n                    if(res){\n                        toastr.success('Scheduler timings updated');\n                    }else{\n                        toastr.error('Unable to update Scheduler timings');\n                    }\n                }\n            });\n        });\n    }\n\n    initFbAlbumSync(_this){\n        $(\"#sync-fb-albums\").on('click', function(e){\n\n            toastr.info('Syncing facebook albums');\n            e.preventDefault();\n\n            $.ajax({\n                type : 'POST',\n                url : '/social/sync/fbAlbums',\n                data : {\n                    _token : _this.token\n                },\n                success : function(res){\n                    if(res){\n                        toastr.success('Facebook albums synced');\n                    }\n                }\n            })\n        });\n    }\n\n    initPostBackup(_this) {\n        $(\"#backup-content\").on('click', function(e){\n            e.preventDefault();\n\n            toastr.info('Backing up all posts!');\n\n            $.ajax({\n                type : 'POST',\n                'url' : '/content/backup',\n                data : {\n                    _token : _this.token\n                },\n                success : function(res){\n                    if(res){\n                        toastr.success('All Photos backed up!');\n                    }\n                }\n            });\n        });\n    }\n\n    constructor(){\n        var _this = this;\n        this.token = $(\"meta[name=csrf_token]\").attr('content');\n        this.initHashNavigate();\n        this.initSchedulerTimings(this);\n        this.initFbAlbumSync(this);\n        this.initPostBackup(this);\n    }\n}\n\nnew Config();\nclass Posts{\n\n    /**\n     * Initialize Infinite scrolling\n     */\n    initInfiniteScroll(_this){\n        var $grid = $(\".grid\");\n        $($grid).jscroll({\n            debug: false,\n            autoTrigger: true,\n            nextSelector: '.pagination li:last a',\n            contentSelector: '.post, .pagination',\n            callback: function() {\n                $('ul.pagination:visible:first').remove();\n                $('.jscroll-added > *').unwrap();\n                _this.initPostTags(_this);\n                _this.initPost(_this);\n            }\n        });\n    }\n\n    /**\n     * Initialize Boostrap TagsInput\n     */\n    initPostTags(_this){\n        $('.tags').tagsinput({\n            allowDuplicates: false,\n            trimValue: true\n        });\n\n        $('.tags').off('itemAdded').on('itemAdded', function(event) {\n\n            var tags = $(this).tagsinput('items').join(),\n                post_id = $(this).attr('data-id');\n\n            _this.updatePostTags(post_id, tags, _this);\n        });\n\n        $('.tags').off('itemRemoved').on('itemRemoved', function(event) {\n            var tags = $(this).tagsinput('items').join(),\n                post_id = $(this).attr('data-id');\n\n            _this.updatePostTags(post_id, tags, _this);\n        });\n    }\n\n    /**\n     * Update post tags\n     * @param post_id\n     * @param tags\n     * @param _this\n     */\n    updatePostTags(post_id, tags, _this){\n        $.ajax({\n            type : 'POST',\n            url : '/content/update/tags',\n            data : {\n                post_id : post_id,\n                tags : tags,\n                _token : _this.token,\n            }\n        });\n    }\n\n    /**\n     * Initalize Post (Post-Now and Delete)\n     */\n    initPost(){\n        $('.delete-now').off('click').on('click', {context : this}, this.deletePost);\n        $('.post-now').off('click').on('click', {context : this}, this.createPost);\n        $(\"#post-batch\").off('click').on('click', {context : this}, this.createPostBatch);\n    }\n\n    /**\n     * Post a batch of posts\n     * @param e\n     */\n    createPostBatch(e){\n        e.preventDefault();\n        var _this = e.data.context;\n        toastr.info('Posting post batch...');\n        $(this).unbind('click');\n        $.ajax({\n            type : 'POST',\n            url : '/content/post/batch',\n            data : {\n                _token : _this.token\n            },\n            success : function(res){\n                if(res){\n                    $(this).unbind('click');\n                    toastr.success('Post batch posted...');\n                    _this.removePostBatchFromDOM();\n                }\n            }\n        });\n    }\n\n    /**\n     * Remove posted post batch from DOM\n     */\n    removePostBatchFromDOM(){\n        $.ajax({\n            type : 'GET',\n            url : '/config/posts/batchLimit',\n            success : function(res){\n                $(`.row:lt(${res.batch_limit})`).slideUp();\n            }\n        });\n    }\n\n    /**\n     * Post Image\n     * @param e\n     */\n    createPost(e){\n        var _this = e.data.context;\n        var post_now = $(this),\n            post_id = $(this).attr('data-id'),\n            type = $(this).attr('data-type');\n\n        $(this).unbind('click');\n\n        toastr.info('Posting new post...');\n\n        $.ajax({\n            type : 'POST',\n            url : '/content/post/'+type,\n            data : {\n                _token : _this.token,\n                post_id : post_id\n            },\n            success: function(res){\n                if(res){\n                    toastr.success('Posted...');\n                    $(post_now).parents('.post').slideUp();\n                }else{\n                    $('.post-now').on('click', {context : this}, this.createPost);\n                }\n            }\n        });\n    }\n\n    /**\n     * Delete post\n     * @param e\n     */\n    deletePost(e){\n        var _this = e.data.context;\n\n        var post_now = $(this),\n            post_id = $(this).attr('data-id');\n\n        $(this).unbind('click');\n\n        $.ajax({\n            type : 'DELETE',\n            url : '/content/delete',\n            data : {\n                _token : _this.token,\n                post_id : post_id\n            },\n            success: function(res){\n                if(res){\n                    $(post_now).parents('.post').slideUp(function(){\n                        $(this).remove();\n                    });\n                }else{\n                    $('.delete-now').on('click', {context : this}, this.deletePost);\n                }\n            }\n        });\n    }\n\n    constructor(){\n        this.token = $(\"meta[name=csrf_token]\").attr('content');\n        this.flash_message = $(\"#flash-message\");\n        this.initInfiniteScroll(this);\n        this.initPostTags(this);\n        this.initPost();\n    }\n}\n\nnew Posts();\nclass ContentSync{\n\n    /**\n     * Sync all content\n     * @param e\n     */\n    requestSync(e){\n        e.preventDefault();\n        var uri = e.data.uri,\n            name = e.data.name;\n\n        toastr.info('Sync in progress, please wait...')\n        $(this).unbind('click');\n        $.ajax({\n            type : 'GET',\n            url : uri,\n            data : {\n                _token : this.token\n            },\n            success: function(res){\n                if(res){\n                    toastr.success('success', name + ' Content successfully synced...')\n                    setTimeout(function(){\n                        window.location.reload();\n                    },3000);\n                }\n            }\n        });\n    }\n    /**\n     * Delete all Synced content\n     * @param _this\n     */\n    initDeleteSync(_this){\n        $(\"#delete-sync, #facebook-delete-sync, #pinterest-delete-sync\").on('click', function(e){\n            e.preventDefault();\n            var service = $(this).attr('data-service'),\n                server_name = $(this).attr('data-name'),\n                ask = confirm(`Are you sure you want to delete all ${server_name} synced content?`);\n\n            if(ask){\n                toastr.info('Deleting all synced content...');\n                $(this).unbind('click');\n                $.ajax({\n                    type : 'DELETE',\n                    url : `/content/deleteAll/${service}`,\n                    data : {\n                        _token : _this.token\n                    },\n                    success : function(res){\n                        if(res){\n                            toastr.success('Content successfully removed...');\n                            $(\".grid\").fadeOut(function(){\n                                $(this).remove();\n                            });\n                        }\n                    }\n                });\n            }else{\n                toastr.info('Deleting content cancelled..');\n            }\n        });\n    }\n\n    initSocialDeleteSync(_this){\n        $(\"#social-delete-sync\").on('click', function(e){\n            e.preventDefault();\n            var ask = confirm('Are you sure you want to delete all synced content?');\n\n            if(ask){\n                toastr.info('Deleting all social synced content...');\n                $(this).unbind('click');\n                $.ajax({\n                    type : 'DELETE',\n                    url : '/content/deleteAll/social',\n                    data : {\n                        _token : _this.token\n                    },\n                    success : function(res){\n                        if(res){\n                            toastr.success('Content successfully removed...');\n                            $(\".grid\").fadeOut(function(){\n                                $(this).remove();\n                            });\n                        }\n                    }\n                });\n            }else{\n                toastr.info('Deleting social content cancelled..');\n            }\n        });\n    }\n\n    constructor(){\n        this.token = $(\"meta[name=csrf_token]\").attr('content');\n        this.flash_message = $(\"#flash-message\");\n        $(\"#sync-data\").on('click', {uri : '/content/sync', name : 'Tumblr'}, this.requestSync);\n        $(\"#facebook-sync\").on('click', {uri : '/content/sync/facebook', name : 'Facebook'}, this.requestSync);\n        $(\"#pinterest-sync\").on('click', {uri : '/content/sync/pinterest', name : 'Pinterest'} , this.requestSync);\n        this.initDeleteSync(this);\n    }\n}\n\nnew ContentSync();\ntoastr.options = {\n    \"debug\": false,\n    \"positionClass\": \"toast-bottom-right\",\n    \"onclick\": null,\n    \"fadeIn\": 300,\n    \"fadeOut\": 1000,\n    \"timeOut\": 5000,\n    \"extendedTimeOut\": 1000,\n    \"newestOnTop\" : false\n};"]}